---
categories: [it, program]
tags: [Установка, Android Studio, Android, Виртуализация, Эмулятор]
related-id: android-emulator
update: 2019-07-16
---

# Эмулятор Koplayer для Android Studio

В статье рассказывается, как подключить Koplayer эмулятор к Android Studio для запуска своих разрабатываемых приложений.

Стандартный эмулятор в Android Studio довольно прожорливое и капризное существо. И нормально работает на хороших компьютерах с Intel процессорами. Так что обладателям AMD процессоров вкупе со слабыми машинами приходится плохо. На помощь приходят сторонние эмуляторы. Koplayer — один из них.

## Скачивание и установка

На сайте <http://www.koplayer.com/> скачиваем установщик:

![Скачивание установщика](img/download.png)

Установка проста:

![Первоначальное окно установщика](img/install_01.png)

![Соглашение с условиями](img/install_02.png)

![Выбор пути установки](img/install_03.png)

![Процесс установки](img/install_04.png)

![Окончание установки](img/install_05.png)

Читаем инструкцию по использованию и подготавливаем эмулятор:

![Приветственное окно](img/install_06.png)

![Выбор того будем заходить или нет под своей учеткой](img/install_07.png)

Теперь эмулятор полностью готов к работе:

![Эмулятор готов к работе](img/koplayer.png)

## Настройка для работы в Android Studio

Заходим в настройки Android:

![Тут находятся настройки](img/settings_01.png)

![Выбор настроек](img/settings_02.png)

Заходим в пункт `About tablet`:

![Выбор пункта «About tablet»](img/settings_03.png)

Щелкаем 7 раз по пункту `Build number`:

![Клик по «Build number» 7 раз](img/settings_04.png)

![Раздел «Для разработчиков»](img/settings_05.png)

Поднимаемся в настройках на уровень выше и видим раздел `Developer options`:

![Раздел «Developer options»](img/settings_06.png)

Включаем пункт `USB debugging`:

![Отладка по USB](img/settings_07.png)

**Закрываем** эмулятор и заново его запускаем.

Теперь в Android Studio появится новое устройство (эмулятор должен быть запущен):

![Выбор устройства в Android Studio](img/run_01.png)

![Запущенное простейшее приложение](img/run_02.png)

## Если устройство не видится

Если вы запустили эмулятор, а Android Studio его не видит, то нужно сделать следующее.

Найти папку в папке Android SDK, в которой находится файл `adb.exe`. У меня это папка `D:\android\sdk\platform-tools`. Перейдите в командной строке в эту папку. Например, `Пуск` → `Выполнить` → `cmd` → `cd D:\android\sdk\platform-tools`.

Найти папку, в которую установлен Koplayer. У меня это папка `D:\KOPLAYER`. В ней в папке `UserData` есть папка `KOPLAYER`, в которой есть файл `TianTian.ini`. Полный путь к файлу у меня получился `D:\KOPLAYER\UserData\KOPLAYER\TianTian.ini`.

В этом файле найти строку со значением параметра `AdbPort`. У меня она равна `AdbPort=6555`.

Теперь в командной строке запустить команду `adb connect 127.0.0.1:6555` или `.\adb connect 127.0.0.1:6555` (в зависимости от командной строки, которую вы используете). Вместо числа `6555` вставьте то значение параметра `AdbPort`, которое у вас стоит. Эмулятор должен быть открытым. Если появилась надпись `connected to 127.0.0.1:6555`, то всё хорошо. Теперь в Android Studio эмулятор должен появиться:

![Пример запуска команды в терминале](img/fix.png)

И да, данный трюк придется выполнять при каждом запуске эмулятора.
